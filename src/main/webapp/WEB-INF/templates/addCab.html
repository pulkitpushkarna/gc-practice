<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="/resources/js/jquery-1.12.4.js"></script>
    <script th:inline="javascript">
        /*<![CDATA[*/
        $(function() {
            jQuery("#submit").click(function() {
                console.log("Button clicked");
                let cabRegNo = $("#vehicleRegNumber").val();
                let cabType =  $("#cabType").val();
                let cabModel = $("#cabModel").val();
                let data = {
                    vehicleRegNo: cabRegNo,
                    cabType: cabType,
                    cabModel: cabModel
                };
                let addRoutePath = "/cab/add";
                jQuery.ajax({
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    },
                    'type': 'POST',
                    'url': addRoutePath,
                    'data': JSON.stringify(data),
                    'dataType': 'json',
                    'success': function(data) {
                        console.log(data);
                    }
                });
            });
            /*]]>*/
        });
    </script>
</head>
<body>
<table layout:fragment="content">
    <tr>
        <td>Cab Reg No.</td>
        <td><input type="text" id="vehicleRegNumber"></td>
    </tr>
    <tr>
        <td>Cab Capacity</td>
        <td>
            <select name="cabType" id="cabType">
                <option th:each="cabType : ${cabTypes}" th:value="${cabType}">
                    <span th:text="${cabType.name}"></span>
                </option>
            </select>
        </td>
    </tr>
    <tr>
        <td>Cab Model</td>
        <td><input type="text" id="cabModel"></td>
    </tr>
    <tr>
        <td><input type="button" value="Submit" id="submit"></td>
    </tr>
</table>
</body>
</html>